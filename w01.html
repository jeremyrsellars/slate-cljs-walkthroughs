<html><head><meta charSet="utf-8"/><title>01 Installing slate - Slate with ClojureScript</title><link rel="stylesheet" href="css/style.css?v=1442DB7F9CDBA4514F86CE9C81CF65441E58DE98"/></head><body><span id="forkongithub"><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs">Fork me on GitHub</a></span><a href="https://jeremyrsellars.github.io/slate-cljs-walkthroughs/"><h1 class="title">Slate with ClojureScript</h1></a><div id="app"><div><h1>01 Installing slate</h1><div class="about"><div><p>You may want to take a look at these files for more on getting Slate, React, NPM, WebPack, and ClojureScript working together.</p><ul><li>NPM<ul><li><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs/jeremyrsellars/slate-cljs-walkthroughs/blob/master/package.json">package.json</a></li></ul></li><li>WebPack<ul><li><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs/jeremyrsellars/slate-cljs-walkthroughs/blob/master/webpack.config.js">webpack.config.js</a></li><li><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs/jeremyrsellars/slate-cljs-walkthroughs/blob/master/src/js/index.js">src/js/index.js</a></li><li>Seeding the webpack <code>npx webpack</code><br/>This command refers to <code>webpack.config.js</code> and <code>src/js/index.js</code> to generate <code>dist/index.bundle.js</code></li></ul></li><li>Figwheel and ClojureScript<ul><li><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs/jeremyrsellars/slate-cljs-walkthroughs/blob/master/deps.edn">deps.edn</a></li><li><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs/jeremyrsellars/slate-cljs-walkthroughs/blob/master/dev.cljs.edn">dev.cljs.edn</a></li><li>Along with the <a href="https://figwheel.org/docs/npm.html" rel="nofollow">Figwheel.main NPM Modules tutorial</a></li><li>Running using the clojure CLI: <code>clojure -m figwheel.main -b dev -r</code></li></ul></li><li>Building<ul><li><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs/jeremyrsellars/slate-cljs-walkthroughs/blob/master/deps.edn">deps.edn</a></li><li><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs/jeremyrsellars/slate-cljs-walkthroughs/blob/master/dev.cljs.edn">dev.cljs.edn</a></li><li>Building using the clojure CLI: <code>clojure -m figwheel.main -O advanced --build-once dev</code><br/>This combines the artifacts from Webpack (React and Slate) with the ClojureScript and Google Closure libraries and the runs Closure&#x27;s advanced compilation to optimize and discard the parts of Clojure and Closure that aren&#x27;t used.<br/>For the walkthroughs, moving from optimizations whitespace to advanced cut out about 1.5 MB taking the single built JS file down to 445kb.</li></ul></li></ul></div></div><div class="objective">Get started by showing a editable Slate.<span><br/>  Follow along with <a href="https://docs.slatejs.org/walkthroughs/01-installing-slate" class="slate-tutorial" target="tutorial">Slate tutorial 01 Installing slate</a> (JavaScript).</span></div><h3>Interactive Demo</h3><p class="description">Type some text</p><div id="editor-parent"><div data-gramm="false" role="textbox" data-slate-editor="true" data-slate-node="value" contenteditable="true" style="outline:none;white-space:pre-wrap;word-wrap:break-word"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">A line of text in a paragraph.</span></span></span></div></div></div><div id="source"><h3>ClojureScript</h3><pre><code class="language-clojure">(defn App   []   (let [editor (useMemo #(withReact (createEditor))                         #js [])         ; Add the initial value when setting up our state.         [value setValue]         (useState          #js [#js {:type &quot;paragraph&quot;                    :children                    #js [#js {:text &quot;A line of text in a paragraph.&quot;}]}])]     (createElement Slate       #js {:editor editor            :value value            :onChange #(setValue %)}       (createElement Editable #js{})))) </code></pre><h3>JavaScript (from Slate Tutorial)</h3><pre><code class="language-javascript">  //From slatecljs.slate-01-installing-slate/App ([])   const App = () =&gt; {   const editor = useMemo(() =&gt; withReact(createEditor()), [])   // Add the initial value when setting up our state.   const [value, setValue] = useState([     {       type: &#x27;paragraph&#x27;,       children: [{ text: &#x27;A line of text in a paragraph.&#x27; }],     },   ])    return (     &lt;Slate editor={editor} value={value} onChange={value =&gt; setValue(value)}&gt;       &lt;Editable /&gt;     &lt;/Slate&gt;   ) } </code></pre></div><h3>Where to next?</h3><ul id="nav"><li class="next"><a href="w02.html" class="next">02 Event handlers</a></li><li class="source-link"><a href="https://github.com/jeremyrsellars/slate-cljs-walkthroughs/blob/master/src/slatecljs/slate_01_installing_slate.cljs#L11" class="source-link">&lt;App&gt;</a></li><li class="slate-tutorial"><a href="https://docs.slatejs.org/walkthroughs/01-installing-slate" class="slate-tutorial" target="tutorial">01 Installing slate</a></li><li class="previous"><a href="index.html" class="previous">Introduction</a></li></ul></div></div><script>window.location.hash = "w01";</script><script src="cljs-out/dev-main.js?v=3F591B1635801B59FF09856D8CAFB2710C7CCE01"></script><link rel="stylesheet" href="highlightjs/styles/obsidian.css?v=6ED475813FE4886A58B236297862FF2F181E66F7"/><script>slatecljs.common.highlight_source("force");</script><div id="thanks-footer">Thanks for visiting.  You might also like this <a href="https://jeremyrsellars.github.io/no-new-legacy/posts/2018-09-07-generative-testing-introduction/">series about generative testing in Clojure</a> also by <a href="https://jeremyrsellars.github.io/">Jeremy Sellars</a>.</div></body></html>
